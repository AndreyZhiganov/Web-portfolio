<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Andrey Zhiganov</title>
    <link rel="stylesheet" href="css/style.css">

    <style>
        /* --- БАЗОВЫЕ СТИЛИ (НЕ ТРОГАЕМ ДЕКСТОП) --- */
        #return-arrow {
            position: absolute; top: 40px; right: 40px; z-index: 9999; 
            color: white; opacity: 0; display: none; transition: opacity 0.3s ease; 
            cursor: pointer; text-decoration: none;
        }
        #return-arrow:hover { opacity: 1 !important; }

        .socials { 
    opacity: 0; 
    transition: opacity 0.8s ease; 
}

.menu-zone { 
    transition: opacity 0.8s ease; 
}

        
    </style>
</head>

<body>
    
    <section class="gallery-screen">
        <div class="gallery">
            <div class="slide">
                <img src="img/slide1.jpg" alt="Photo 1">
            </div>
            <div class="slide">
                <img src="img/slide2.jpg" alt="Photo 2">
            </div>
            <div class="slide">
                <img src="img/slide3.jpg" alt="Photo 3">
            </div>
        </div>

        <div class="nav-zone left-zone">
            <div class="arrow arrow-left">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
            </div>
        </div>
        <div class="nav-zone right-zone">
            <div class="arrow arrow-right">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
            </div>
        </div>

        <div class="bottom-ui">
            <div class="menu-zone"> 
                <div class="menu-trigger">
                    <span class="icon-menu">☰</span>
                    <span class="text-menu">
                        <a href="about.html" class="menu-link">ABOUT</a>
                        <a href="about.html#projects" class="menu-link">PROJECTS</a>
                    </span>
                </div>
            </div>
            
            <div class="socials">
                <a href="https://www.instagram.com/andrey_zhiganovv/" target="_blank" class="social-link instagram">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                </a>
                <a href="https://www.youtube.com/@andreyzhiganovv" target="_blank" class="social-link youtube">
    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
        <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zM9 17.5v-11l8.5 5.5-8.5 5.5z"/>
    </svg>
</a>
            </div>
        </div>
    </section>

    <a href="about.html" id="return-arrow">
        <svg width="35" height="24" viewBox="0 0 35 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="2" y1="12" x2="33" y2="12"></line>
            <polyline points="25 4 33 12 25 20"></polyline>
        </svg>
    </a>

    <script>
    const gallery = document.querySelector('.gallery');
    const slides = document.querySelectorAll('.slide');

    slides.forEach(slide => {
  slide.addEventListener('click', () => window.location.href = 'about.html');
});

    let currentIndex = 0;

    function showSlide(index) {
        if (window.innerWidth <= 768) return; // Блокируем слайдер на мобилках

        const totalSlides = slides.length;
        if (index < 0) { bounce(40); return; } 
        if (index >= totalSlides) { bounce(-40); return; }

        currentIndex = index;
        const offset = -currentIndex * 100;
        gallery.style.transform = `translateX(${offset}%)`;
    }

    function bounce(pixels) {
        const currentOffset = -currentIndex * 100;
        gallery.style.transform = `translateX(calc(${currentOffset}% + ${pixels}px))`;
        setTimeout(() => { gallery.style.transform = `translateX(${currentOffset}%)`; }, 200);
    }

    document.querySelector('.right-zone').addEventListener('click', () => showSlide(currentIndex + 1));
    document.querySelector('.left-zone').addEventListener('click', () => showSlide(currentIndex - 1));

    // Бургер меню (фикс: не исчезает сразу, работает только на мобильке)
if (window.innerWidth <= 768) {
    const menuZone = document.querySelector('.menu-zone');
    const burgerIcon = document.querySelector('.icon-menu');

    if (burgerIcon && menuZone) {
        burgerIcon.addEventListener('click', (e) => {
            e.stopPropagation(); // Останавливаем bubble, чтобы не закрывалось сразу
            menuZone.classList.toggle('active');
        });

        // Закрываем при клике на ссылку
        document.querySelectorAll('.menu-link').forEach(link => {
            link.addEventListener('click', () => {
                menuZone.classList.remove('active');
            });
        });

        // Закрываем при клике вне (closest без .text-menu, чтобы не мешал)
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.menu-zone')) {
                menuZone.classList.remove('active');
            }
        });
    }
}

    // Логика появления элементов
    window.onload = function() {
        const arrow = document.getElementById('return-arrow');
        const menu = document.querySelector('.menu-zone');
        const socials = document.querySelector('.socials');

        if (sessionStorage.getItem('fromAbout') === 'true') {
            arrow.style.display = 'block';
            setTimeout(() => { arrow.style.opacity = '0.6'; }, 10);
            setTimeout(() => {
                if(menu) menu.style.opacity = '1';
                if(socials) socials.style.opacity = '1';
            }, 250);
            sessionStorage.removeItem('fromAbout');
        } else {
            if(menu) menu.style.opacity = '1';
            if(socials) socials.style.opacity = '1';
        }
    }
</script>

<script>
let lastScroll = 0;

window.addEventListener("scroll", () => {
  const current = window.scrollY;

  if (current > 10) {
    document.body.classList.add("scrolling");
  } else {
    document.body.classList.remove("scrolling");
  }
});
</script>

</body>
</html>